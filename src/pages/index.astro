---
import Layout from '@components/layout/Layout.astro'
import { newtClient } from '@lib/newt'
import type { Article } from '@lib/newt'
import ZennArticles from '@components/features/zenn/ZennArticles.astro'

const { items: articles } = await newtClient.getContents<Article>({
  appUid: 'news',
  modelUid: 'article',
  query: {
    select: ['title', 'slug', 'body'],
  },
})
---

<Layout description="カンバンのサイトです。">
  <main>
    <section>
      <ZennArticles />
    </section>
    <section>
      <ul>
        {
          articles.map((article) => {
            return (
              <li>
                <a href={`/articles/${article.slug}`}>{article.title}</a>
              </li>
            )
          })
        }
      </ul>
    </section>
  </main>
</Layout>